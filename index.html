<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</title>
<style>
body { font-family: Arial; background:#fafafa; margin:0; padding:0; }
.container { max-width:400px; margin:40px auto; background:white; padding:20px; border-radius:15px; text-align:center; box-shadow:0 0 15px rgba(0,0,0,0.1); }

.qr-box img { width:250px; }

.admin-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background:#333;
    color:white;
    padding:12px 15px;
    border-radius:50%;
    cursor:pointer;
    font-size:20px;
}

.modal {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.5);
    justify-content:center;
    align-items:center;
}

.modal-content {
    background:white;
    padding:20px;
    border-radius:10px;
    width:300px;
    text-align:center;
}
input[type=file], input[type=password] {
    width:100%;
    padding:10px;
    margin:10px 0;
}
button { padding:10px 15px; margin-top:10px; }
</style>
</head>
<body>

<div class="container">
    <h2>ğŸ”µ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</h2>
    <p>Ø§Ù…Ø³Ø­ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù„Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹</p>

    <div class="qr-box">
        <img id="barcodeImage" src="" alt="Barcode">
    </div>
</div>

<!-- Ø²Ø± Ø§Ù„Ø£Ø¯Ù…Ù† -->
<div class="admin-btn" onclick="openAdmin()">âš™ï¸</div>

<!-- Ù†Ø§ÙØ°Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
<div id="adminModal" class="modal">
    <div class="modal-content">

        <div id="stepPassword">
            <h3>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†</h3>
            <input type="password" id="adminPass" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
            <button onclick="checkPassword()">Ø¯Ø®ÙˆÙ„</button>
        </div>

        <div id="stepUpload" style="display:none;">
            <h3>ØªØºÙŠÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</h3>
            <input type="file" id="barcodeFile" accept="image/*">
            <button onclick="uploadBarcode()">Ø­ÙØ¸</button>
        </div>

        <button onclick="closeAdmin()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<script>
// ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ø³Ø±Ù‘ÙŠØ© (ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ±Ù‡Ø§)
const ADMIN_PASSWORD = "1234";

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø¥Ù† ÙˆØ¬Ø¯
window.onload = function() {
    const savedBarcode = localStorage.getItem("barcodeImage");
    if (savedBarcode) {
        document.getElementById("barcodeImage").src = savedBarcode;
    } else {
        // ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        document.getElementById("barcodeImage").src = "https://via.placeholder.com/250x250?text=Barcode";
    }
};

function openAdmin() {
    document.getElementById("adminModal").style.display = "flex";
}

function closeAdmin() {
    document.getElementById("adminModal").style.display = "none";
}

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±
function checkPassword() {
    const pass = document.getElementById("adminPass").value;
    if (pass === ADMIN_PASSWORD) {
        document.getElementById("stepPassword").style.display = "none";
        document.getElementById("stepUpload").style.display = "block";
    } else {
        alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
    }
}

// Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯
function uploadBarcode() {
    const file = document.getElementById("barcodeFile").files[0];
    if (!file) {
        alert("Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹");
        return;
    }

    const reader = new FileReader();
    reader.onload = function(e) {
        const imgData = e.target.result;

        document.getElementById("barcodeImage").src = imgData;
        localStorage.setItem("barcodeImage", imgData);

        alert("âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­!");
    };
    reader.readAsDataURL(file);
}
</script>

</body>
</html>
