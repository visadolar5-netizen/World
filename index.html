<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù…ÙˆÙ„Ù‘Ø¯ Ø£ÙÙƒØ§Ø± Ø¹Ø¨Ù‚Ø±ÙŠ â€” Ø¬Ø§Ù‡Ø² Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ GitHub</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8; --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter, "Segoe UI", Tahoma, Arial; background:linear-gradient(180deg,var(--bg),#061019); color:#e6eef6; min-height:100vh; padding:28px;}
  .wrap{max-width:980px;margin:0 auto;}
  header{display:flex;gap:16px;align-items:center; margin-bottom:18px;}
  .logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:20px;box-shadow:0 6px 20px rgba(3,7,18,0.6)}
  h1{margin:0;font-size:20px}
  p.lead{margin:0;color:var(--muted);font-size:13px}
  .controls{display:flex;gap:8px;flex-wrap:wrap;margin:18px 0}
  .btn{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:#04121a;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(6,182,212,0.12)}
  .btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
  .card{background:linear-gradient(180deg,var(--card), rgba(8,12,18,0.6)); padding:18px;border-radius:14px;box-shadow:0 8px 30px rgba(2,6,12,0.6); margin-bottom:12px}
  .row{display:grid;grid-template-columns:1fr 260px;gap:12px}
  .small{font-size:13px;color:var(--muted)}
  .idea-title{font-size:18px;margin:0 0 6px}
  .meta{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .tag{background:var(--glass);padding:6px 8px;border-radius:8px;font-size:12px;color:var(--muted)}
  textarea{width:100%;min-height:110px;border-radius:10px;padding:12px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;resize:vertical}
  input,select{padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit}
  .actions{display:flex;gap:8px;flex-wrap:wrap}
  .list{max-height:320px;overflow:auto;padding:6px;border-radius:10px}
  .fav-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);margin-bottom:6px}
  .muted{color:var(--muted)}
  footer{margin-top:26px;color:var(--muted);font-size:13px;text-align:center}
  @media(max-width:880px){ .row{grid-template-columns:1fr} .controls{flex-direction:column} .logo{display:none} }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo">Ø¹Ø¨Ù‚Ø±ÙŠ</div>
    <div>
      <h1>Ù…ÙˆÙ„Ù‘Ø¯ Ø£ÙÙƒØ§Ø± Ù…Ø´Ø§Ø±ÙŠØ¹ â€” Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ GitHub</h1>
      <p class="lead">Ø£Ø­ØµÙ„ Ø¹Ù„Ù‰ ÙÙƒØ±Ø© Ù…Ø´Ø±ÙˆØ¹ ÙŠÙˆÙ…ÙŠØ© Ù…Ø¹ Ø§Ø³Ù…ØŒ ÙˆØµÙØŒ Ù†Ù…ÙˆØ°Ø¬ Ø±Ø¨Ø­ØŒ ØªÙ‚Ù†ÙŠØ§Øª ÙˆØ®Ø·ÙˆØ§Øª ØªÙ†ÙÙŠØ°ÙŠØ© â€” ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¨Ø³Ø·Ø©.</p>
    </div>
  </header>

  <div class="controls">
    <button class="btn" id="genBtn">ğŸ¯ Ø¥Ø®Ù„Ù‚ ÙÙƒØ±Ø© Ø¹Ø¨Ù‚Ø±ÙŠØ© Ø§Ù„Ø¢Ù†</button>
    <button class="btn secondary" id="dailyBtn">ğŸ” ÙÙƒØ±Ø© Ø§Ù„ÙŠÙˆÙ…</button>
    <select id="difficulty">
      <option value="easy">Ø³Ø±ÙŠØ¹ Ø§Ù„ØªÙ†ÙÙŠØ° (Ù…Ù†Ø®ÙØ¶)</option>
      <option value="medium" selected>Ù…ØªÙˆØ§Ø²Ù†</option>
      <option value="hard">Ù…ØªÙ‚Ø¯Ù… (ÙØ±ÙŠØ¯)</option>
    </select>
    <input id="seedInput" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ: ÙƒÙ„Ù…Ø© Ù…ÙØªØ§Ø­ÙŠØ© Ù„ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ù…Ø§Ø¡ (Ù…Ø«Ø§Ù„: Ù„ÙŠØ¨ÙŠØ§)" />
    <div style="margin-left:auto;display:flex;gap:8px">
      <button class="btn secondary" id="saveFav">â­ Ø­ÙØ¸ Ù„Ù„Ù…ÙØ¶Ù„Ø§Øª</button>
      <button class="btn" id="downloadJson">â¤“ ØªØ­Ù…ÙŠÙ„ JSON</button>
    </div>
  </div>

  <div class="row">
    <div>
      <div class="card">
        <div id="ideaArea">
          <h2 class="idea-title" id="ideaTitle">Ø§Ø¶ØºØ· "Ø¥Ø®Ù„Ù‚ ÙÙƒØ±Ø© Ø¹Ø¨Ù‚Ø±ÙŠØ© Ø§Ù„Ø¢Ù†" Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­</h2>
          <div class="small muted" id="ideaMeta">â€”</div>
          <div class="meta" style="margin-top:12px">
            <div class="tag" id="bizModel">Ù†Ù…ÙˆØ°Ø¬ Ø±Ø¨Ø­: â€”</div>
            <div class="tag" id="techStack">ØªÙ‚Ù†ÙŠØ§Øª: â€”</div>
            <div class="tag" id="estimate">Ù…Ø¯Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠØ©: â€”</div>
          </div>

          <h3 style="margin-top:14px">Ø§Ù„ÙˆØµÙ</h3>
          <textarea id="ideaDesc" readonly>â€”</textarea>

          <h3 style="margin-top:12px">Ø®Ø·ÙˆØ§Øª Ø£ÙˆÙ„ÙŠØ© Ù…Ù‚ØªØ±Ø­Ø©</h3>
          <ol id="stepsList" style="padding-left:18px"></ol>

          <div style="margin-top:12px" class="actions">
            <button class="btn" id="copyBtn">Ù†Ø³Ø® Ø§Ù„ÙÙƒØ±Ø©</button>
            <button class="btn secondary" id="editBtn">âœï¸ Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ù†Øµ</button>
            <button class="btn secondary" id="shareBtn">Ù…Ø´Ø§Ø±ÙƒØ© (Ù…ÙˆØ¨Ø§ÙŠÙ„)</button>
          </div>
        </div>
      </div>

      <div class="card small">
        <strong>Ù†ØµÙŠØ­Ø© Ù†Ø´Ø± GitHub:</strong>
        <div style="margin-top:8px">
          1) Ø§Ø­ÙØ¸ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ø¨Ø§Ø³Ù… <code>index.html</code>.<br>
          2) Ø§Ø±ÙØ¹ Ù„Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ø¹Ù„Ù‰ GitHubØŒ Ø«Ù… ÙØ¹Ù„ GitHub Pages Ù…Ù† Settings â†’ Pages â†’ Ø§Ø®ØªØ± branch main Ùˆ/Ø£Ùˆ root.<br>
          3) Ø§Ù„Ø±Ø§Ø¨Ø· Ø³ÙŠØµØ¨Ø­: <span class="muted">https://USERNAME.github.io/REPO/</span>
        </div>
      </div>
    </div>

    <aside>
      <div class="card">
        <h3>Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª</h3>
        <div class="list" id="favList">
          <div class="muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙØ¶Ù„Ø§Øª Ø¨Ø¹Ø¯</div>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px">
          <button class="btn secondary" id="clearFavs">Ù…Ø³Ø­ Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª</button>
          <button class="btn" id="exportFavs">ØªØµØ¯ÙŠØ± Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª</button>
        </div>
      </div>

      <div class="card small" style="margin-top:12px">
        <strong>Ø®ÙŠØ§Ø±Ø§Øª ØªÙˆÙ„ÙŠØ¯</strong>
        <p class="small muted">Ø§Ù„ØªÙˆÙ„ÙŠØ¯ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù†Ù…Ø§Ø°Ø¬ Ù‚ÙˆØ§Ù„Ø¨ Ø¯Ø§Ø®Ù„ÙŠØ© ÙˆÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ ÙƒÙ„Ù…Ø© Ù…ÙØªØ§Ø­ÙŠØ© Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„ÙÙƒØ±Ø©.</p>
      </div>
    </aside>
  </div>

  <footer>ØµÙÙ…Ù‘Ù… Ù„Ùƒ Ø¨Ø³Ø±Ø¹Ø© â€” Ø§Ù†Ø³Ø® Ø§Ù„Ù…Ù„Ù ÙˆØ§Ø±ÙØ¹Ø© Ø¹Ù„Ù‰ GitHub. Ø¥Ø°Ø§ ØªØ¨ÙŠ Ø£Ø¹Ø¯Ù‘Ù„ Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ Ø£Ø­Ø· Ù„Ùƒ Ù†Ø³Ø®Ø© Ø¨Ù„ØºØ© Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø£Ùˆ Ø£Ø¶Ù Ø¨Ø§Ùƒ-Ø¥Ù†Ø¯ØŒ Ù‚Ù„Ù‘ÙŠ ØªÙˆØ§.</footer>
</div>

<script>
/* ===== Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø£ÙÙƒØ§Ø± â€” ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¨Ø¯ÙˆÙ† Ø®Ø§Ø¯Ù… =====
   Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ø§Ù†Ø³Ø® Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙƒÙ€ index.html ÙˆØ§Ø±ÙØ¹Ø©.
*/

const templates = [
  {
    type: "Ù…Ù†ØµØ© Ø®Ø¯Ù…Ø§Øª Ù…Ø­Ù„ÙŠØ©",
    names: ["Ø®Ø¯Ù…Ø© Ø§Ù„Ø¢Ù†", "Ø³ÙˆÙ‚ Ø§Ù„Ø­ÙˆÙ…Ø©", "ØªÙˆØµÙŠÙ„ Ø¨Ù„Ø¯ÙŠ"],
    models: ["Ø§Ø´ØªØ±Ø§Ùƒ + Ù†Ø³Ø¨Ø© Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©", "Ø¯ÙØ¹ Ù„ÙƒÙ„ Ø·Ù„Ø¨", "Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ¨Ø§Ù‚Ø© Ù…Ù…ÙŠØ²Ø©"],
    tech: ["React / Vue", "Firebase Ø£Ùˆ Supabase", "PWA Ù„Ù„Ù‡ÙˆØ§ØªÙ"],
    steps: [
      "ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ ÙˆØ®Ø¯Ù…Ø§Øª Ø¨Ø³ÙŠØ·Ø©",
      "Ù†Ø´Ø± Ø¹Ø±ÙˆØ¶ Ø£ÙˆÙ„ÙŠØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ/ØªÙ„ØºØ±Ø§Ù…",
      "ØªØ¬Ø±Ø¨Ø© Ø®Ø¯Ù…Ø© Ù…Ø¹ 10 Ø¹Ù…Ù„Ø§Ø¡ ÙˆØªØ­Ø³ÙŠÙ†",
      "Ø¥Ø·Ù„Ø§Ù‚ Ø¨Ø§Ù‚Ø© Ø§Ø´ØªØ±Ø§Ùƒ ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…"
    ]
  },
  {
    type: "Ø£Ø¯Ø§Ø© Ø¥Ù†ØªØ§Ø¬ Ù…Ø­ØªÙˆÙ‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©",
    names: ["ÙƒØ§ØªØ¨ Ø°ÙƒÙŠ", "Ù…ÙÙ†ØªØ¬ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø±ÙŠØ¹"],
    models: ["Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ", "Ø¨ÙŠØ¹ Ù‚ÙˆØ§Ù„Ø¨ ÙˆÙ…Ù‚Ø¯Ù…Ø§Øª"],
    tech: ["Node.js + OpenAI API (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)", "Next.js", "Storage Ù„Ù„ÙˆØ³Ø§Ø¦Ø·"],
    steps: [
      "ØµÙ†Ø¹ Ù…ÙˆÙ„Ù‘Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª/ÙÙŠØ¯ÙŠÙˆ Ø¨Ø³ÙŠØ·",
      "Ø¥Ø¶Ø§ÙØ© Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ù†ÙŠØ´Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©",
      "Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø§Ø¯ÙŠ Ù…Ø¹ 50 Ù…Ù‚Ø§Ù„Ù‹Ø§ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬",
      "ØªØ­Ø³ÙŠÙ† UI ÙˆØ¯ÙØ¹ Ù†Ù…Ùˆ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ§Øª"
    ]
  },
  {
    type: "Ø£Ø¯Ø§Ø© Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­Ø§Ø³Ø¨Ø© Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ù…Ø­Ù„Ø§Øª",
    names: ["Ø¯ÙØªØ± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", "Ù…Ø­Ø§Ø³Ø¨ Ø§Ù„Ø­Ø§Ù†ÙˆØª"],
    models: ["Ø§Ø´ØªØ±Ø§Ùƒ Ø´Ù‡Ø±ÙŠ Ø£Ùˆ ØªØ±Ø®ÙŠØµ Ø³Ù†ÙˆÙŠ"],
    tech: ["Electron Ø£Ùˆ PWA", "LocalStorage + Export CSV"],
    steps: [
      "Ø¨Ù†Ø§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬",
      "Ø¯Ø¹Ù… Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØªØµØ¯ÙŠØ± CSV",
      "ØªØ¬Ø±Ø¨Ø© Ù…Ø¹ 5 Ù…Ø­Ù„Ø§Øª Ù…Ø­Ù„ÙŠØ©",
      "Ø¥Ø¶Ø§ÙØ© ØªÙ‚Ø§Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠØ© ÙˆØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø°Ù…Ù…"
    ]
  },
  {
    type: "Ø®Ø¯Ù…Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ© (Ø£Ø³Ø¹Ø§Ø±ØŒ ÙˆÙ‚ÙˆØ¯ØŒ Ø³ÙŠÙˆÙ„Ø©)",
    names: ["Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø³ÙŠÙˆÙ„Ø©", "Ø³Ø¹Ø±Ùƒ Ø§Ù„Ø¢Ù†"],
    models: ["Ø¥Ø¹Ù„Ø§Ù†Ø§Øª + Ø§Ø´ØªØ±Ø§Ùƒ Ù„Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª"],
    tech: ["Scraping Ø®ÙÙŠÙ Ø£Ùˆ Ù…Ø¯Ø®Ù„ ÙŠØ¯ÙˆÙŠ", "Map API Ø¨Ø³ÙŠØ·Ø©"],
    steps: [
      "ØªØ¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„ÙŠØ© Ø¹Ù† Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ù…Ø­Ø·Ø§Øª",
      "Ø¹Ø±Ø¶Ù‡Ø§ Ø¹Ù„Ù‰ Ø®Ø±ÙŠØ·Ø© ØªÙØ§Ø¹Ù„ÙŠØ©",
      "ØªÙØ¹ÙŠÙ„ ØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯",
      "ÙØªØ­ Ù„ÙˆØ­Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù„Ø¥Ø¶Ø§ÙØ© ØªÙ‚Ø§Ø±ÙŠØ±"
    ]
  }
];

// ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… ØµØ­ÙŠØ­ Ù…Ù† Ù†Øµ (hash Ø¨Ø³ÙŠØ·)
function hashString(s){
  let h=2166136261;
  for(let i=0;i<s.length;i++){
    h ^= s.charCodeAt(i);
    h += (h<<1)+(h<<4)+(h<<7)+(h<<8)+(h<<24);
  }
  return Math.abs(h);
}

// ØªÙˆÙ„ÙŠØ¯ ÙÙƒØ±Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ø¹ seed
function generate({seed='', difficulty='medium', daily=false}={}){
  const dateSeed = daily ? (new Date()).toISOString().slice(0,10) : '';
  const finalSeed = (seed + '|' + difficulty + '|' + dateSeed).trim();
  const h = hashString(finalSeed || Math.random().toString());
  const t = templates[h % templates.length];
  const name = t.names[h % t.names.length] + (seed?(' â€” '+seed):'');
  const biz = t.models[h % t.models.length];
  const tech = t.tech.slice(0, Math.min(3, 1 + (h%3)));
  const est = difficulty==='easy'? '2-6 Ø£Ø³Ø§Ø¨ÙŠØ¹' : difficulty==='medium'? '1-3 Ø£Ø´Ù‡Ø±' : '3-9 Ø£Ø´Ù‡Ø± (Ù†Ù…ÙˆØ°Ø¬ Ù…ØªÙ‚Ø¯Ù‘Ù…)';
  // Ø®Ø·ÙˆØ§Øª Ù…Ø®ØµÙ‘ØµØ©
  const steps = [...t.steps];
  if(difficulty==='easy') steps.unshift("Ø¥Ø·Ù„Ø§Ù‚ MVP Ø¨Ø³ÙŠØ· ÙˆÙ‚ÙŠØ§Ø³ Ø§Ù„Ø·Ù„Ø¨ Ø®Ù„Ø§Ù„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†");
  if(difficulty==='hard') steps.push("Ø¨Ù†Ø§Ø¡ ÙØ±ÙŠÙ‚ ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ø£Ø¯Ø§Ø¡ Ø´Ù‡Ø±ÙŠØ©");

  const desc = `ÙÙƒØ±Ø©: ${t.type}. Ù‡Ø°Ø§ Ù…Ø´Ø±ÙˆØ¹ ÙŠÙ‡Ø¯Ù Ø¥Ù„Ù‰ ${t.type==='Ø£Ø¯Ø§Ø© Ø¥Ù†ØªØ§Ø¬ Ù…Ø­ØªÙˆÙ‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©' ? 'ØªØ³Ù‡ÙŠÙ„ Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø©' :
    t.type==='Ù…Ù†ØµØ© Ø®Ø¯Ù…Ø§Øª Ù…Ø­Ù„ÙŠØ©' ? 'Ø±Ø¨Ø· Ù…Ù‚Ø¯Ù…ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ù…Ø¹ Ø§Ù„Ù…Ø³ØªÙ‡Ù„ÙƒÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠÙŠÙ† Ø¨Ø³Ø±Ø¹Ø©' :
    t.type==='Ø£Ø¯Ø§Ø© Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­Ø§Ø³Ø¨Ø© Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ù…Ø­Ù„Ø§Øª' ? 'ØªØ¨Ø³ÙŠØ· Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ù„Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø©' :
    'ØªÙ‚Ø¯ÙŠÙ… Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ© Ù…ÙÙŠØ¯Ø© Ù„Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ†' }.`

  return {
    id: 'idea_' + h,
    title: name,
    type: t.type,
    bizModel: biz,
    techStack: tech.join(' â€¢ '),
    estimate: est,
    description: desc,
    steps
  };
}

// DOM
const genBtn = document.getElementById('genBtn');
const dailyBtn = document.getElementById('dailyBtn');
const ideaTitle = document.getElementById('ideaTitle');
const ideaMeta = document.getElementById('ideaMeta');
const ideaDesc = document.getElementById('ideaDesc');
const stepsList = document.getElementById('stepsList');
const bizModel = document.getElementById('bizModel');
const techStack = document.getElementById('techStack');
const estimate = document.getElementById('estimate');
const difficulty = document.getElementById('difficulty');
const seedInput = document.getElementById('seedInput');
const copyBtn = document.getElementById('copyBtn');
const saveFav = document.getElementById('saveFav');
const favList = document.getElementById('favList');
const clearFavs = document.getElementById('clearFavs');
const exportFavs = document.getElementById('exportFavs');
const downloadJson = document.getElementById('downloadJson');
const dailyBtnEl = document.getElementById('dailyBtn');

let currentIdea = null;

// localStorage helpers
function loadFavs(){ try{return JSON.parse(localStorage.getItem('gen_favs')||'[]')}catch(e){return []}}
function saveFavsToStorage(a){ localStorage.setItem('gen_favs', JSON.stringify(a)) }
function renderFavs(){
  const arr = loadFavs();
  favList.innerHTML = '';
  if(!arr.length){ favList.innerHTML = '<div class="muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙØ¶Ù„Ø§Øª Ø¨Ø¹Ø¯</div>'; return; }
  arr.slice().reverse().forEach(item=>{
    const div = document.createElement('div'); div.className='fav-item';
    const left = document.createElement('div'); left.innerHTML = `<strong>${item.title}</strong><div class="small muted">${item.type} â€¢ ${item.bizModel}</div>`;
    const right = document.createElement('div');
    const open = document.createElement('button'); open.className='btn secondary'; open.textContent='Ø§ÙØªØ­'; open.onclick=()=>showIdea(item);
    const del = document.createElement('button'); del.className='btn'; del.style.padding='6px 8px'; del.textContent='Ø­Ø°Ù'; del.onclick=()=>{ removeFav(item.id); };
    right.appendChild(open); right.appendChild(del);
    div.appendChild(left); div.appendChild(right);
    favList.appendChild(div);
  });
}
function addFav(it){
  const arr = loadFavs();
  if(arr.find(x=>x.id===it.id)) return alert('Ø§Ù„ÙÙƒØ±Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª Ø¨Ø§Ù„ÙØ¹Ù„');
  arr.push(it); saveFavsToStorage(arr); renderFavs(); alert('Ø­ÙÙØ¸Øª Ø§Ù„ÙÙƒØ±Ø© Ø¨Ø§Ù„Ù…ÙØ¶Ù„Ø§Øª');
}
function removeFav(id){
  let arr = loadFavs(); arr = arr.filter(x=>x.id!==id); saveFavsToStorage(arr); renderFavs();
}
function clearAllFavs(){ if(confirm('Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙØ¶Ù„Ø§ØªØŸ')){ saveFavsToStorage([]); renderFavs(); } }

// show idea to UI
function showIdea(it){
  currentIdea = it;
  ideaTitle.textContent = it.title;
  ideaMeta.textContent = `${it.type} â€¢ Ù…ÙØ¹Ø±Ù‘Ù: ${it.id}`;
  ideaDesc.value = it.description;
  bizModel.textContent = 'Ù†Ù…ÙˆØ°Ø¬ Ø±Ø¨Ø­: ' + it.bizModel;
  techStack.textContent = 'ØªÙ‚Ù†ÙŠØ§Øª: ' + it.techStack;
  estimate.textContent = 'Ø§Ù„Ù…Ø¯Ø©: ' + it.estimate;
  stepsList.innerHTML = '';
  it.steps.forEach(s=>{
    const li = document.createElement('li'); li.textContent = s; stepsList.appendChild(li);
  });
}

// event handlers
genBtn.onclick = ()=> {
  const it = generate({seed: seedInput.value.trim(), difficulty: difficulty.value, daily:false});
  showIdea(it);
};
dailyBtn.onclick = ()=> {
  const it = generate({seed: seedInput.value.trim(), difficulty: difficulty.value, daily:true});
  showIdea(it);
  // Ø¥ÙŠÙ…Ø§Ø¡Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ù†Ù‡ Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…
  dailyBtnEl.textContent = 'ğŸ” ÙÙƒØ±Ø© Ø§Ù„ÙŠÙˆÙ… (' + new Date().toLocaleDateString() + ')';
}

copyBtn.onclick = async ()=>{
  if(!currentIdea) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙƒØ±Ø© Ù„Ù†Ø³Ø®Ù‡Ø§');
  const text = `${currentIdea.title}\n\n${currentIdea.description}\n\nÙ†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø±Ø¨Ø­: ${currentIdea.bizModel}\nØªÙ‚Ù†ÙŠØ§Øª: ${currentIdea.techStack}\nÙ…Ø¯Ø©: ${currentIdea.estimate}\n\nØ®Ø·ÙˆØ§Øª:\n- ${currentIdea.steps.join('\n- ')}`;
  try{
    await navigator.clipboard.writeText(text);
    alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙÙƒØ±Ø© Ù„Ù„Ø­Ø§ÙØ¸Ø©!');
  }catch(e){
    prompt('Ø§Ù†Ø³Ø® Ø§Ù„Ù†Øµ ÙŠØ¯ÙˆÙŠØ§Ù‹:', text);
  }
};

saveFav.onclick = ()=>{
  if(!currentIdea) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙƒØ±Ø© Ù„Ù„Ø­ÙØ¸');
  addFav(currentIdea);
};

clearFavs.onclick = clearAllFavs;

exportFavs.onclick = ()=>{
  const arr = loadFavs();
  if(!arr.length) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ÙØ¶Ù„Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±');
  const blob = new Blob([JSON.stringify(arr, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'favs.json'; a.click(); URL.revokeObjectURL(url);
};

downloadJson.onclick = ()=>{
  if(!currentIdea) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙƒØ±Ø© Ù„Ù„ØªÙ†Ø²ÙŠÙ„');
  const blob = new Blob([JSON.stringify(currentIdea, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = (currentIdea.title.replace(/\s+/g,'_')||'idea') + '.json'; a.click(); URL.revokeObjectURL(url);
};

// share (mobile)
document.getElementById('shareBtn').onclick = async ()=>{
  if(!currentIdea) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙƒØ±Ø© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©');
  const text = `${currentIdea.title}\n\n${currentIdea.description}\n\nØ®Ø·ÙˆØ§Øª:\n- ${currentIdea.steps.join('\n- ')}`;
  if(navigator.share){
    try{ await navigator.share({title: currentIdea.title, text}); }
    catch(e){ alert('ÙØ´Ù„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©: '+e.message) }
  } else {
    alert('Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­. Ø³ÙŠÙÙ†Ø³Ø® Ø§Ù„Ù†Øµ Ù„Ù„Ø­Ø§ÙØ¸Ø©.');
    try{ await navigator.clipboard.writeText(text); alert('ØªÙ… Ø§Ù„Ù†Ø³Ø®!'); }catch(e){ prompt('Ø§Ù†Ø³Ø® Ø§Ù„Ù†Øµ:', text); }
  }
};

// ØªØ­ÙƒÙ‘Ù… ØªØ­Ø±ÙŠØ± Ø§Ù„ÙˆØµÙ (Ù…Ø¤Ù‚Øª)
document.getElementById('editBtn').onclick = ()=>{
  if(!currentIdea) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙƒØ±Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„');
  ideaDesc.readOnly = !ideaDesc.readOnly;
  if(ideaDesc.readOnly) { alert('ØªÙ… Ù‚ÙÙ„ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„'); }
  else { alert('ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØµÙ â€” Ø§Ø¶ØºØ· Ù…Ø±Ù‘Ø© Ø£Ø®Ø±Ù‰ Ù„Ù‚ÙÙ„Ù‡ ÙˆØ­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹'); }
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØµÙ ÙÙŠ Ø§Ù„ÙÙƒØ±Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù‚ÙÙ„
  if(ideaDesc.readOnly && currentIdea){
    currentIdea.description = ideaDesc.value;
  }
};

// load initial
renderFavs();

// auto-generate daily idea on load
(function(){
  const it = generate({seed:'', difficulty: difficulty.value, daily:true});
  showIdea(it);
  dailyBtnEl.textContent = 'ğŸ” ÙÙƒØ±Ø© Ø§Ù„ÙŠÙˆÙ… (' + new Date().toLocaleDateString() + ')';
})();

</script>
</body>
</html>
